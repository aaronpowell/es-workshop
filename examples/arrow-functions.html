<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="site.css">
</head>

<body>
    <h1>An introduction to arrow functions</h1>

    <p>
        Exercise: Introduce arrow functions and learn about how they change the closure scope
    </p>

    <button onclick="run()">Run demos</button>
    <script>
        function run() {
            const add = (x, y) => x + y;

            console.log(add(1, 2));

            var items = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

            console.log(items.filter(x => x % 2).map(x => x * x));

            var people = {
                getPeople: function (cb) {
                    var xhr = new XMLHttpRequest();

                    xhr.open('get', 'http://output.jsbin.com/royebo.json');

                    xhr.addEventListener('load', (e) => {
                        var o = JSON.parse(xhr.responseText);
                        this.knownPeople = o.people;
                        cb();
                    }, false);

                    xhr.send();
                },

                knownPeople: []
            };

            people.getPeople(() => console.log(people.knownPeople));
        }
    </script>
</body>

</html>
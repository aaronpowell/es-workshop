<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="site.css">
</head>

<body>
    <h1>An introduction to arrow functions</h1>

    <p>
        Exercise: Introduce arrow functions and learn about how they change the closure scope
    </p>

    <button onclick="run()">Run demos</button>
    <script>
        function run() {
            function add(x, y) {
                return x, y;
            }

            console.log(add(1, 2));

            var items = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

            console.log(items.filter(function (x) {
                return x % 2;
            }).map(function (x) {
                return x * x;
            }));

            var people = {
                getPeople: function (cb) {
                    var that = this;
                    var xhr = new XMLHttpRequest();

                    xhr.open('get', 'http://output.jsbin.com/royebo.json');

                    xhr.addEventListener('load', function (e) {
                        var o = JSON.parse(xhr.responseText);
                        that.knownPeople = o.people;
                        cb();
                    }, false);

                    xhr.send();
                },

                knownPeople: []
            };

            people.getPeople(function () {
                console.log(people.knownPeople);
            });
        }
    </script>
</body>

</html>